{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport InputComp from '@/components/InputComp.vue';\nimport ErrorMessageModalComp from '../components/modais/ErrorMessageModalComp.vue';\nimport EditUser from '../components/modais/';\nexport default {\n  name: 'HeaderComp',\n  props: {},\n  data() {\n    return {\n      logged: false,\n      erro: undefined,\n      email: \"\",\n      password: \"\",\n      user: {},\n      showModalEdit: false\n    };\n  },\n  methods: {\n    changeValues(prop, text) {\n      this[`${prop}`] = text;\n    },\n    closeModal() {\n      this.erro = undefined;\n    },\n    async logar() {\n      try {\n        let response = await axios.post(\"http://localhost:8081/login\", {\n          email: this.email,\n          password: this.password\n        });\n        const {\n          id,\n          token\n        } = response.data;\n        if (token) {\n          this.logged = true;\n          localStorage.setItem('token', token);\n          const req = {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem('token')\n            }\n          };\n          axios.get(`http://localhost:8081/api/user/${id}`, req).then(response => {\n            this.user = response.data;\n          }).catch(err => {\n            console.log(err);\n          });\n          this.$emit('logged');\n          this.$router.push({\n            name: 'databases'\n          });\n        }\n      } catch (err) {\n        const msgError = err.response.data?.err;\n        this.erro = msgError;\n      }\n    }\n  },\n  components: {\n    InputComp,\n    ErrorMessageModalComp\n  }\n};","map":{"version":3,"names":["axios","InputComp","ErrorMessageModalComp","EditUser","name","props","data","logged","erro","undefined","email","password","user","showModalEdit","methods","changeValues","prop","text","closeModal","logar","response","post","id","token","localStorage","setItem","req","headers","Authorization","getItem","get","then","catch","err","console","log","$emit","$router","push","msgError","components"],"sources":["C:\\Users\\aless\\Desktop\\Projeto web 2\\sistema_gestao_imagens_medicas\\Frontend\\src\\components\\HeaderComp.vue"],"sourcesContent":["<template>\r\n    <div> \r\n        <header class=\"header\">\r\n            <div class=\"navbar-header\">\r\n                <a href=\"/\"><img src=\"../assets/logo.png\" alt=\"Logo\" id=\"logo\"></a>\r\n                <router-link to=\"/\" class=\"nav-link-header\" v-if:=!this.logged>Home</router-link>\r\n                <router-link to=\"/about\" class=\"nav-link-header\" v-if:=!this.logged>Sobre o projeto</router-link>\r\n            </div>\r\n            \r\n            <div v-if:=!this.logged class=\"form-header\">\r\n                <i class=\"fa-regular fa-circle-user green-theme me-1 h5 pt-2\"></i>\r\n                <InputComp name=\"email\" type=\"email\" placeHolder=\"email\" :function=\"changeValues\"/>\r\n                \r\n                <i class=\"fa fa-lock ms-4 green-theme me-1 h5 pt-2\" aria-hidden=\"true\"></i>\r\n                <InputComp name=\"password\" type=\"password\" placeHolder=\"password\" :function=\"changeValues\"/>  \r\n\r\n                <button @click=\"logar\" class=\"button-header ms-4\" id=\"button-login\">\r\n                    <i class=\"fa fa-sign-in\" aria-hidden=\"true\"></i>\r\n                    <span class=\"button-text ms-1\">Sig-in</span>\r\n                </button>\r\n\r\n                <router-link to=\"/cadastroUsuario\" class=\"button-header ms-2 pt-1\"> \r\n                    <i class=\"fa fa-user-plus me-1\" aria-hidden=\"true\"></i>\r\n                    Sign up\r\n                </router-link>\r\n            </div>\r\n\r\n            <div v-else:=this.logged class=\"form-logged-header\">\r\n                <button id=\"button-logged\">\r\n                   {{ this.user.name }} \r\n                </button>\r\n                <button>\r\n                    Editar Usu√°rio\r\n                </button>\r\n            </div>\r\n        </header>\r\n\r\n        <div v-if=\"this.erro\" class=\"error-msg\">\r\n            <ErrorMessageModalComp :message=this.erro @close-modal=\"closeModal()\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'; \r\nimport InputComp from '@/components/InputComp.vue';\r\nimport ErrorMessageModalComp from '../components/modais/ErrorMessageModalComp.vue';\r\nimport EditUser from '../components/modais/'\r\n\r\nexport default {\r\n    name: 'HeaderComp',\r\n    props: {\r\n    },\r\n    data () {\r\n        return {\r\n            logged: false,\r\n            erro: undefined,\r\n            email: \"\",\r\n            password: \"\",\r\n            user: {},\r\n            showModalEdit: false\r\n        }\r\n    },\r\n    methods: {\r\n        changeValues(prop, text) {\r\n            this[`${prop}`] = text\r\n        },\r\n        closeModal() {\r\n            this.erro = undefined;\r\n        },\r\n\r\n        async logar() {\r\n            try {\r\n                let response = await axios.post((\"http://localhost:8081/login\"), {\r\n                    email: this.email,\r\n                    password: this.password\r\n                })\r\n\r\n                const { id, token } = response.data;\r\n\r\n                if (token) {\r\n                    this.logged = true;\r\n                    localStorage.setItem('token', token);\r\n\r\n                    const req = {\r\n                        headers: {\r\n                            Authorization: \"Bearer \" + localStorage.getItem('token')\r\n                        }\r\n                    }\r\n\r\n                    axios.get(`http://localhost:8081/api/user/${id}`, req).then(response => {\r\n                        this.user = response.data;\r\n                    }).catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n\r\n                    this.$emit('logged');\r\n                    this.$router.push({name: 'databases'});\r\n                }\r\n            } catch (err) {\r\n                const msgError = err.response.data?.err;\r\n                this.erro = msgError;\r\n            } \r\n        }\r\n    },\r\n    components: {\r\n        InputComp,\r\n        ErrorMessageModalComp\r\n    }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\nhtml, body {\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 0;\r\n} \r\n\r\n.header {\r\n    /* position: fixed; */\r\n    width: 100%;\r\n    height: 100px;\r\n    right: 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 0px;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\r\n    align-items: center;\r\n    background-color: white;\r\n}\r\n\r\n.navbar-header {\r\n    width: 49%;\r\n}\r\n\r\n.button-text {\r\n    margin-right: 8px;\r\n}\r\n\r\n.form-header {\r\n    width: 51%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding-right: 5%;\r\n}\r\n\r\n.form-logged-header {\r\n    width: 50%;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    padding-right: 5%;\r\n}\r\n\r\n.nav-link-header, .nav-link-header:visited {\r\n    color: #73BF8E;\r\n    width: 20%;\r\n    margin-left: 5%;\r\n    text-decoration: none;\r\n}\r\n\r\n.nav-link-header:hover {\r\n    color: #459c63;\r\n    width: 20%;\r\n    margin-left: 5%;\r\n}\r\n\r\n#button-logged {\r\n    background-color: #73BF8E;\r\n    border: 1px solid #73BF8E;\r\n    color: white;\r\n    -webkit-box-shadow: 0.5px 0.75px 1.5px 1px #62b981; \r\n    box-shadow: 0.5px 0.75px 1.5px 1px #62b981;\r\n    border-radius: 35px;\r\n    height: 35px;\r\n    align-items: center;\r\n    padding-left: 2%;\r\n    padding-right: 2%;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n}\r\n\r\n#button-logged:hover {\r\n    background-color: #459c63;\r\n    border: 1px solid #459c63;\r\n}\r\n\r\n.button-header {\r\n    height: 35px;\r\n    border-radius: 20px;\r\n    padding-left: 3%;\r\n    padding-right: 3%;\r\n    border: 1px solid white;\r\n    background-color: white;\r\n    color: #73BF8E;\r\n    align-items: center;\r\n    text-decoration: none;\r\n}\r\n\r\n.button-header:hover {\r\n    border: 1px solid #459c63;\r\n    background-color: white;\r\n    color: #459c63;\r\n}\r\n\r\n#button-login {\r\n    background-color: #73BF8E;\r\n    border: 1px solid #73BF8E;\r\n    color: white;\r\n    -webkit-box-shadow: 0.5px 0.75px 1.5px 1px #62b981; \r\n    box-shadow: 0.5px 0.75px 1.5px 1px #62b981;\r\n}\r\n\r\n#button-login:hover {\r\n    border: 1px solid #459c63;\r\n    background-color: #459c63;\r\n    color: white;\r\n}\r\n\r\n#logo{\r\n    width: 30%;\r\n    margin-left: 10%;\r\n}\r\n\r\n.green-theme {\r\n    color: #73BF8E;\r\n}\r\n\r\n</style>\r\n"],"mappings":";AA4CA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,qBAAoB,MAAO,gDAAgD;AAClF,OAAOC,QAAO,MAAO,uBAAsB;AAE3C,eAAe;EACXC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CACP,CAAC;EACDC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,SAAS;MACfC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,CAAC,CAAC;MACRC,aAAa,EAAE;IACnB;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,YAAYA,CAACC,IAAI,EAAEC,IAAI,EAAE;MACrB,IAAI,CAAE,GAAED,IAAK,EAAC,IAAIC,IAAG;IACzB,CAAC;IACDC,UAAUA,CAAA,EAAG;MACT,IAAI,CAACV,IAAG,GAAIC,SAAS;IACzB,CAAC;IAED,MAAMU,KAAKA,CAAA,EAAG;MACV,IAAI;QACA,IAAIC,QAAO,GAAI,MAAMpB,KAAK,CAACqB,IAAI,CAAE,6BAA6B,EAAG;UAC7DX,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,QAAQ,EAAE,IAAI,CAACA;QACnB,CAAC;QAED,MAAM;UAAEW,EAAE;UAAEC;QAAM,IAAIH,QAAQ,CAACd,IAAI;QAEnC,IAAIiB,KAAK,EAAE;UACP,IAAI,CAAChB,MAAK,GAAI,IAAI;UAClBiB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;UAEpC,MAAMG,GAAE,GAAI;YACRC,OAAO,EAAE;cACLC,aAAa,EAAE,SAAQ,GAAIJ,YAAY,CAACK,OAAO,CAAC,OAAO;YAC3D;UACJ;UAEA7B,KAAK,CAAC8B,GAAG,CAAE,kCAAiCR,EAAG,EAAC,EAAEI,GAAG,CAAC,CAACK,IAAI,CAACX,QAAO,IAAK;YACpE,IAAI,CAACR,IAAG,GAAIQ,QAAQ,CAACd,IAAI;UAC7B,CAAC,CAAC,CAAC0B,KAAK,CAAEC,GAAG,IAAK;YACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;UACpB,CAAC,CAAC;UAEF,IAAI,CAACG,KAAK,CAAC,QAAQ,CAAC;UACpB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAClC,IAAI,EAAE;UAAW,CAAC,CAAC;QAC1C;MACJ,EAAE,OAAO6B,GAAG,EAAE;QACV,MAAMM,QAAO,GAAIN,GAAG,CAACb,QAAQ,CAACd,IAAI,EAAE2B,GAAG;QACvC,IAAI,CAACzB,IAAG,GAAI+B,QAAQ;MACxB;IACJ;EACJ,CAAC;EACDC,UAAU,EAAE;IACRvC,SAAS;IACTC;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}